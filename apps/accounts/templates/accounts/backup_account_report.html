{% load i18n %}
{% load static %}


<div class="report-container">
    <section class="basic-info-section">
    <div class="header-container">
      <span
        class="triangle-down-icon collapse-toggle"
        data-target="basic-info"
      ></span>

      <h2>{% trans 'Basic Information' %}</h2>
    </div>

    <div class="container-section collapsible-content" id="basic-info-content">
      <div class="item">
        <span class="item-label">{% trans 'Date start' %}</span>
        <span class="item-value">{{ execution.date_start | date:"Y/m/d H:i:s" }}</span>
      </div>

      <div class="item">
        <span class="item-label">{% trans 'Date end' %}</span>
        <span class="item-value">{{ execution.date_finished | date:"Y/m/d H:i:s" }}</span>
      </div>

      <div class="item">
        <span class="item-label">{% trans 'Accounts amount' %}</span>
        <span class="item-value">{{ summary.total_accounts }}</span>
      </div>

      <div class="item">
        <span class="item-label">{% trans 'Task name' %}</span>
        <span class="item-value">{{ execution.automation.name }}</span>
      </div>

      <div class="item">
        <span class="item-label">{% trans 'Time using' %}</span>
        <span class="item-value">{{ execution.duration }}s</span>
      </div>

      <div class="item">
        <span class="item-label">{% trans 'Type count' %}</span>
        <span class="item-value">{{ summary.total_types }}</span>
      </div>
    </div>
  </section>
</div>

<style>
    {% include './css/report.css' %}
</style>

<script>
    const toggleButtons = document.querySelectorAll('.collapse-toggle')
  
    toggleButtons.forEach((button) => {
      button.addEventListener('click', function () {
        const targetId = this.getAttribute('data-target')
        const targetContent = document.getElementById(`${targetId}-content`)
  
        if (this.classList.contains('triangle-down-icon')) {
          this.classList.remove('triangle-down-icon')
          this.classList.add('triangle-right-icon')
          targetContent.classList.add('collapsed')
        } else {
          this.classList.remove('triangle-right-icon')
          this.classList.add('triangle-down-icon')
          targetContent.classList.remove('collapsed')
        }
      })
    })
  </script>